$.fn.numberseparator=function(e){function r(e){$(d).hide(),e&&$(d).show()}function a(e,r){var a=$(c).val().replace(i,""),t="";""!=a&&(t=a.match(new RegExp(".{1,"+e+"}","g")).join(r)),$(c).val(t)}var t=$.extend({addedEvery:4,separator:"-",idErrorMessage:"error_m",idForm:"form_target",keepFormatOnSubmit:!0},e),n=t.addedEvery,o=t.separator,i=new RegExp("["+o+"]","g"),d="#"+t.idErrorMessage,l=t.keepFormatOnSubmit,y=t.idForm,c=this;$(c).bind("input propertychange",function(e){var a=e.target.value;if(""!=a){var t=e.target.value.replace(/ /g,""),d=t.replace(i,""),l=d.match(new RegExp(".{1,"+n+"}","g")).join(o),y=a.match(i),m=!(null!=y&&y.length>=0),u=t.match(/[a-z]/g),g=null!=u&&u.length>0;$.isNumeric(t)||!m&&!g?(r(!1),$(c).val(l)):(r(!0),$(c).val(""))}}),$(c).keydown(function(e){-1!==$.inArray(e.keyCode,[8,46,9,27,13,190,188,116])||65==e.keyCode&&(e.ctrlKey||e.metaKey)||67==e.keyCode&&(e.ctrlKey||e.metaKey)||88==e.keyCode&&(e.ctrlKey||e.metaKey)||86==e.keyCode&&(e.ctrlKey||e.metaKey)||e.keyCode>=33&&e.keyCode<=40||e.keyCode>=16&&e.keyCode<=18}),$(c).blur(function(){r(!1)}),r(!1),a(n,o),l||$("#"+y).submit(function(e){var r=$(c).val(),a=r.replace(i,"");$(c).val(a)})};